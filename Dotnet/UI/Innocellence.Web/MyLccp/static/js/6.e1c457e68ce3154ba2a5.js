webpackJsonp([6],{sGcP:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("4YfN"),i=e.n(a),n=e("SJI6"),r=e("oi9H"),o=e.n(r),l=e("uPOm"),c=e.n(l),u=e("4NNy"),h=e.n(u),p={name:"DepartPatientList",components:{Loading:e("9MEh").a},data:function(){return{sortPatients:[],lowIcon:o.a,low3Icon:c.a,highIcon:h.a,showLoading:!1,showFilter:!1,filters:[{rule:"lowCount",text:"近7天低血糖次数从多到少"},{rule:"testCount",text:"近7天测量次数从多到少"},{rule:"enrollDate",text:"入组时间从新到旧"},{rule:"LastBgDataDate",text:"最后一次测血糖时间从新到旧"}],currentFilter:{rule:"LastBgDataDate",text:"最后一次测血糖时间从新到旧"}}},computed:i()({},Object(n.mapGetters)({patients:"doctorPatients",sendStatus:"patientSendStatus",user:"user",departWatchDoctor:"departWatchDoctor"})),methods:{sortList:function(t,s){var e=s[this.currentFilter.rule]-t[this.currentFilter.rule];return 0!==e?e:s.enrollDate-t.enrollDate},changeFilter:function(t){this.currentFilter=t,this.sortPatients=this.patients.sort(this.sortList),this.showFilter=!1},goToDetail:function(t){this.$store.dispatch("fetchPatientItem",t),this.$router.push("/patient-detail/"+this.$route.params.id+"/"+t.PatientId)},handleShowFilters:function(){this.showFilter=!this.showFilter}},watch:{sendStatus:function(t,s){t&&(this.sortPatients=this.patients.sort(this.sortList),this.showLoading=!1)}},beforeMount:function(){this.showLoading=!0,this.$store.dispatch("fetchPatientByDoctor",this.$route.params.id)}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"page-wrp"},[e("div",{staticClass:"fill-bg"}),t._v(" "),e("h1",{staticClass:"page-title"},[t._v(t._s(t.departWatchDoctor.DoctorName)+"的患者 (共"+t._s(t.sortPatients.length)+"名患者)")]),t._v(" "),e("div",{staticClass:"clearfix filters"},[e("div",{staticClass:"filter-wrp"},[e("p",{on:{click:t.handleShowFilters}},[t._v("\n        "+t._s(t.currentFilter.text)+"\n        "),e("span",[e("icon",{attrs:{name:t.showFilter?"angle-up":"angle-down"}})],1)]),t._v(" "),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.showFilter,expression:"showFilter"}]},t._l(t.filters,function(s,a){return e("li",{key:a,style:{color:t.currentFilter.rule===s.rule?"#000":"#ccc"},on:{click:function(e){t.changeFilter(s)}}},[t._v("\n          "+t._s(s.text)+"\n        ")])}))])]),t._v(" "),e("div",{staticClass:"patients-wrp"},[e("ul",{staticClass:"patients"},t._l(t.sortPatients,function(s){return e("li",{key:s.PatientId,staticClass:"patient clearfix"},[e("div",{staticClass:"clearfix patient-right",on:{click:function(e){t.goToDetail(s)}}},[e("div",{staticClass:"patient-info"},[e("img",{staticClass:"patient-photo",attrs:{src:s.photo,alt:""}}),t._v(" "),e("p",[t._v(t._s(s.Name))]),t._v(" "),e("span",[t._v(t._s(s.sex))]),t._v(" "),e("span",{staticClass:"patient-age"},[t._v(t._s(s.age)+"岁")])]),t._v(" "),e("div",{staticClass:"patient-test"},[e("p",[e("span",{staticClass:"enroll-time"},[t._v(t._s(s.enrollDays))])]),t._v(" "),e("p",{staticClass:"count-text"},[t._v("\n              "+t._s(s.testCount?"近7天测量"+s.testCount+"次 低血糖"+s.lowCount+"次":"近7天无测量")+"\n            ")]),t._v(" "),e("p",{staticClass:"tags"},t._l(s.tags,function(s,a){return e("span",{key:a,staticClass:"tag",style:{color:"高血糖"===s?"":"#D73A2E"}},[e("img",{attrs:{src:"极低血糖"!==s?"高血糖"===s?t.highIcon:t.low3Icon:t.lowIcon,alt:""}}),t._v("\n                "+t._s(s)+"\n              ")])}))])])])}))]),t._v(" "),e("Loading",{attrs:{showLoading:t.showLoading}})],1)},staticRenderFns:[]};var v=e("vSla")(p,d,!1,function(t){e("zzaD")},"data-v-04739bba",null);s.default=v.exports},zzaD:function(t,s){}});
//# sourceMappingURL=6.e1c457e68ce3154ba2a5.js.map